import{_ as B,j as y,s as I,x as L,o as d,c as i,a as t,F as x,r as w,b as n,D as f,i as D,m as h,t as a,y as N,Z as S,l as T}from"./index-Wt0TdR2C.js";import{d as U,e as A}from"./gameView-BBQiwUz6.js";const F={class:"portfolio"},$={class:"portfolio-container"},H={class:"maker"},R={class:"maker-wrapper"},Z={key:0,class:"maker-content-wrapper"},E={class:"maker-nfts"},j={class:"nft-status-wrapper"},z={class:"type-wrapper"},W={class:"type-text"},q={class:"live-wrapper"},G={key:0,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},J=["fill"],K={key:1,xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none"},O={class:"live-text"},Q=["src"],X={class:"nft-title-wrapper"},Y={class:"nft-title"},tt={class:"nft-date-wrapper"},et={class:"nft-date-content-wrapper"},st={class:"nft-date-content-text"},at={class:"nft-date-content-text"},dt={class:"nft-duration-wrapper"},ot={class:"nft-duration-content-text"},it={class:"nft-award-wrapper"},lt={class:"detail"},nt={class:"detail-table"},rt={class:"detail-content-text"},ct={class:"detail-content-name-text"},vt={class:"detail-content-text"},ft={class:"detail-content-text"},ut={class:"detail-content-date-text"},_t={class:"detail-content-text"},pt={key:1,class:"detail-table-content"},xt={class:"solver"},wt={class:"solver-table"},ht={class:"solver-content-text"},bt={class:"solver-content-name-text"},gt={class:"solver-content-name-text"},mt={class:"detail-content-text"},kt={key:1,class:"solver-table-content"},yt={__name:"PortfolioPage",setup(M){const c=o=>{const s=new Date(o*1e3),e=String(s.getUTCMonth()+1).padStart(2,"0"),l=String(s.getUTCDate()).padStart(2,"0"),k=s.getUTCHours(),P=String(s.getUTCMinutes()).padStart(2,"0"),V=k>=12?"PM":"AM",C=k%12||12;return`${e}.${l} ${C}:${P} ${V}`},b=(o,s)=>{const l=(s-o)/(60*60*24);return Math.round(l)},u=o=>N(o.toString(),18),r=y({nfts:[],details:[]}),v=y({details:[]}),_=o=>{const s=Math.floor(Date.now()/1e3);return o.map(e=>({id:e[0].toString(),tokenId:e[1],name:e[2],description:e[3],type:e[4],promptHash:e[5],secretHash:e[6],image:e[7],startDate:Number(e[8]),endDate:Number(e[9]),award:e[10],status:e[11].toLowerCase()==="0xffffffffffffffffffffffffffffffffffffffff"||e[11]===S&&s>Number(e[9])?"Verified":e[11]!==S?"Solved":"Live"}))},g=async()=>{const{address:o}=D();try{const s=await U(o.value);r.value={nfts:_(s.slice(-4)),details:_(s.slice(-4))}}catch(s){console.error("Error fetching Maker portfolio:",s)}},m=async()=>{const{address:o}=D();try{const s=await A(o.value);v.value={details:_(s)}}catch(s){console.error("Error fetching Solver portfolio:",s)}};let p=null;return I(async()=>{await g(),await m(),p=setInterval(async()=>{await g(),await m()},15e3)}),L(()=>{p&&clearInterval(p)}),(o,s)=>(d(),i("div",F,[t("div",$,[t("div",H,[t("div",R,[s[5]||(s[5]=t("div",{class:"maker-text"},"Maker",-1)),r.value.nfts.length>0?(d(),i("div",Z,[s[3]||(s[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"45",viewBox:"0 0 27 45",fill:"none"},[t("path",{d:"M25.75 2.56444L2.05336 22.5L25.75 42.4356V2.56444Z",fill:"#F5F3F3",stroke:"black","stroke-width":"2"})],-1)),t("div",E,[(d(!0),i(x,null,w(r.value.nfts,(e,l)=>(d(),i("div",{key:l,class:h(["nft-wrapper",{"is-verified-nft":e.status==="Verified"}])},[t("div",j,[t("div",z,[t("div",W,a(e.type),1)]),t("div",q,[e.status!=="Verified"?(d(),i("svg",G,[t("circle",{cx:"6",cy:"6.02026",r:"5.5",fill:e.status==="Live"?"#53926D":"#CC0000"},null,8,J)])):n("",!0),e.status==="Verified"?(d(),i("svg",K,s[0]||(s[0]=[t("circle",{cx:"9.5",cy:"9.5",r:"8",fill:"#4DC4CF",stroke:"black","stroke-width":"2"},null,-1),t("rect",{x:"3.5",y:"7.91431",width:"2",height:"8.48528",transform:"rotate(-45 3.5 7.91431)",fill:"black"},null,-1),t("rect",{width:"2",height:"8.48563",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 15.5 7.91431)",fill:"black"},null,-1)]))):n("",!0),t("div",O,a(e.status),1)])]),t("img",{src:e.image,alt:"nft"},null,8,Q),t("div",X,[t("div",Y,a(e.name),1)]),t("div",tt,[s[1]||(s[1]=t("div",{class:"nft-date-text"},"Date",-1)),t("div",et,[t("div",st,a(c(e.startDate)),1),t("div",at," ~ "+a(c(e.endDate)),1)])]),t("div",dt,[s[2]||(s[2]=t("div",{class:"nft-duration-text"},"Remaining",-1)),t("div",ot,a(b(e.startDate,e.endDate))+" days ",1)]),t("div",it,[t("div",{class:h(["nft-award-text",{"is-verified-nft-text":e.status==="Verified"}])}," Award ",2),t("div",{class:h(["nft-award-text",{"is-verified-nft-text":e.status==="Verified","is-solved-nft-text":e.status==="Solved"}])},a(u(e.award)+" USDC"),3)])],2))),128))]),s[4]||(s[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"45",viewBox:"0 0 27 45",fill:"none"},[t("path",{d:"M1.25 2.56444L24.9466 22.5L1.25 42.4356V2.56444Z",fill:"#53926D",stroke:"black","stroke-width":"2"})],-1))])):n("",!0)]),t("div",lt,[s[8]||(s[8]=t("div",{class:"detail-text"},"View Details",-1)),t("div",nt,[s[7]||(s[7]=f('<div class="detail-table-top" data-v-8cd5b7f6><div class="detail-title-text" data-v-8cd5b7f6>Id</div><div class="detail-title-name-text" data-v-8cd5b7f6>Name</div><div class="detail-title-text" data-v-8cd5b7f6>Status</div><div class="detail-title-text" data-v-8cd5b7f6>Type</div><div class="detail-title-date-text" data-v-8cd5b7f6>Date</div><div class="detail-title-text" data-v-8cd5b7f6>Award</div></div>',1)),r.value.details.length!=0?(d(!0),i(x,{key:0},w(r.value.details,(e,l)=>(d(),i("div",{key:l,class:"detail-table-content"},[t("div",rt,a(l+1),1),t("div",ct,a(e.name),1),t("div",vt,a(e.status),1),t("div",ft,a(e.type),1),t("div",ut,a(c(e.startDate))+" ~ "+a(c(e.endDate))+" (UST) ",1),t("div",_t,a(u(e.award)),1)]))),128)):n("",!0),r.value.details.length==0?(d(),i("div",pt,s[6]||(s[6]=[f('<div class="detail-content-text" data-v-8cd5b7f6></div><div class="detail-content-name-text" data-v-8cd5b7f6></div><div class="detail-content-text" data-v-8cd5b7f6></div><div class="detail-content-text" data-v-8cd5b7f6></div><div class="detail-content-date-text" data-v-8cd5b7f6></div><div class="detail-content-text" data-v-8cd5b7f6></div>',6)]))):n("",!0)])])]),t("div",xt,[s[12]||(s[12]=t("div",{class:"solver-title-text"},"Solver",-1)),t("div",wt,[s[11]||(s[11]=f('<div class="solver-table-top" data-v-8cd5b7f6><div class="solver-top-text" data-v-8cd5b7f6>Id</div><div class="solver-top-name-text" data-v-8cd5b7f6>Name</div><div class="solver-top-name-text" data-v-8cd5b7f6>Type</div><div class="solver-top-date-text" data-v-8cd5b7f6>Solved</div><div class="solver-top-text" data-v-8cd5b7f6>Award</div></div>',1)),v.value.details.length!=0?(d(!0),i(x,{key:0},w(v.value.details,(e,l)=>(d(),i("div",{key:l,class:"solver-table-content"},[t("div",ht,a(l+1),1),t("div",bt,a(e.name),1),t("div",gt,a(e.type),1),s[9]||(s[9]=t("div",{class:"detail-content-date-text"},"o",-1)),t("div",mt,a(u(e.award)),1)]))),128)):n("",!0),v.value.details.length==0?(d(),i("div",kt,s[10]||(s[10]=[f('<div class="solver-content-text" data-v-8cd5b7f6></div><div class="solver-content-name-text" data-v-8cd5b7f6></div><div class="solver-content-text" data-v-8cd5b7f6></div><div class="solver-content-text" data-v-8cd5b7f6></div><div class="detail-content-date-text" data-v-8cd5b7f6></div><div class="detail-content-text" data-v-8cd5b7f6></div>',6)]))):n("",!0)])])])]))}},Dt=B(yt,[["__scopeId","data-v-8cd5b7f6"]]),Pt={__name:"PortfolioView",setup(M){return(c,b)=>(d(),T(Dt))}};export{Pt as default};
